<div class="welcome-mat min-w-min 
      w-full lg:max-w-2xl transition-all"
     *ngIf="isNew">

  <div class="sticky p-4
        grid place-content-center justify-items-center
        bg-[#2f2e41] text-white"
       style="top: 4rem; height: calc(100vh - 4rem);">

    <div class="max-w-lg text-center">
      <lottie-player src="https://assets8.lottiefiles.com/packages/lf20_ureyqxyw.json"
                     loop autoplay class="h-auto"></lottie-player>

      <div class="mt-4">
        <h1 class="text-xl font-semibold">Welcome to EASWORKS</h1>
        <p class="mt-2 text-sm">
          Work With The World's Leading Companies By applying to join EASWORKS
          Enterprise Application software Talent Network,
          you are one step closer to finding your next role,
          advancing your career, and connecting with other
          talented engineers in our community. Cheers to that!
        </p>
      </div>
    </div>

  </div>

</div>

<div class="min-w-min page">
  <div class="mx-auto w-24 h-24">
    <lottie-player src="https://assets5.lottiefiles.com/packages/lf20_m4gdjtfv.json"
                   loop autoplay>
    </lottie-player>
  </div>

  <div *ngIf="stepper.showStepControls$()" class="stepper-progress w-100 mt-4">
    <ng-container *ngrxLet="stepper.progress$() as progress">
      <span>{{progress.label}}</span>
      <mat-progress-bar [value]="progress.percent" class="mt-2 rounded-full"></mat-progress-bar>
    </ng-container>
  </div>


  <!-- Stepper container -->
  <div class="relative mt-8" *ngrxLet="stepper.step$() as step">

    <div *ngIf="step === 'start'">
      <p class="text-center">
        Please answer the following questions to complete your EASWorks Freelancer Profile.
      </p>
      <button type="button" class="highlight-button primary mt-4 mx-auto" style="display: block;"
              (click)="this.stepper.next.click()">
        Get Started
      </button>
    </div>

    <ng-container *ngIf="step === 'professional-summary'">
      <form *ngrxLet="professionalSummary.form as form"
            [formGroup]="form">

        <div *ngrxLet="form.controls.summary as control"
             [formFieldControl]="control">
          <label class="!text-lg">Professional Summary</label>
          <textarea [formControl]="control"
                    placeholder="Please tell us about yourself"
                    class="h-64 resize-none mt-2"></textarea>
        </div>

        <div>
          <label class="text-lg">Your Location and Time Zone</label>

          <button class="highlight-button mt-4 flex gap-2 items-center"
                  type="button" mat-ripple
                  (click)="professionalSummary.useCurrentLocation()">
            <i class="fas fa-location"></i>
            <span class="text-sm">Use current location</span>
          </button>

          <div class="mt-4">
            <div class="grid grid-cols-2 gap-x-4 md:gap-x-8 transition-all">
              <div *ngrxLet="form.controls.country as control"
                   [formFieldControl]="control">
                <label>Country</label>
                <mat-select [formControl]="control">
                  <mat-option>Tim Cook</mat-option>
                  <mat-option>Steve Jobs</mat-option>
                  <mat-option>Bill Gates</mat-option>
                </mat-select>
              </div>

              <div *ngrxLet="form.controls.province as control"
                   [formFieldControl]="control">
                <label>Province</label>
                <mat-select [formControl]="control">
                  <mat-option>Tim Cook</mat-option>
                  <mat-option>Steve Jobs</mat-option>
                  <mat-option>Bill Gates</mat-option>
                </mat-select>
              </div>

              <div *ngrxLet="form.controls.city as control"
                   [formFieldControl]="control">
                <label>City</label>
                <mat-select [formControl]="control">
                  <mat-option>Tim Cook</mat-option>
                  <mat-option>Steve Jobs</mat-option>
                  <mat-option>Bill Gates</mat-option>
                </mat-select>
              </div>

              <div *ngrxLet="form.controls.timezone as control"
                   [formFieldControl]="control">
                <label>Time Zone</label>
                <mat-select [formControl]="control">
                  <mat-option>Tim Cook</mat-option>
                  <mat-option>Steve Jobs</mat-option>
                  <mat-option>Bill Gates</mat-option>
                </mat-select>
              </div>
            </div>
          </div>
        </div>
      </form>
    </ng-container>
  </div>

  <!-- Button Container -->
  <ng-container *ngIf="stepper.showStepControls$()">
    <mat-divider class="!my-4"></mat-divider>
    <div class="flex">
      <button *ngIf="stepper.prev.visible$()"
              type="button" class="stroked-button mr-auto"
              (click)="this.stepper.prev.click()">
        Previous
      </button>

      <button *ngIf="stepper.next.visible$()"
              type="button" class="stroked-button ml-auto"
              [disabled]="stepper.next.disabled$()"
              (click)="this.stepper.next.click()">
        Next
      </button>

      <button *ngIf="stepper.submit.visible$()"
              type="button" class="shaded-button ml-auto"
              [disabled]="stepper.submit.disabled$()"
              (click)="this.stepper.submit.click()">
        Submit
      </button>
    </div>
  </ng-container>

</div>