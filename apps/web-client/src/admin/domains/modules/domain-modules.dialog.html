<div class="flex justify-between items-center p-2 pl-4 gap-4">
  <h1 class="font-bold">Add Module To Domains</h1>
  <button class="icon-button small" mat-dialog-close mat-ripple>
    <fa-icon [icon]="icons.faXmark"></fa-icon>
  </button>
</div>

<mat-divider></mat-divider>

<div class="p-2">
  <div class="form-field mb-0">
    <label>ID</label>
    <input type="text" readonly [ngModel]="domain$().id">
  </div>
</div>

<mat-divider></mat-divider>

<div class="p-2">
  <div class="form-field mb-0">
    <label>Long Name</label>
    <input type="text" readonly [ngModel]="domain$().longName">
  </div>
</div>

<mat-divider></mat-divider>
<div class="p-2">
  <!-- TODO; fix vertical scrolling for this dialog box -->
  <div class="table-container max-h-[50vh] overflow-auto">
    <div class="overlay-wrapper">
      <table>
        <thead>
          <tr>
            <th>Modules</th>
            <th class="w-0"></th>
          </tr>
        </thead>
        <tbody>
          @if(table.empty$()) {
          <tr>
            <td colspan="2" class="italics text-gray-400 text-center">
              No data
            </td>
          </tr>
          }
          @for(control of table.form.controls; track $index) {
          <tr>
            <td [formFieldControl]="control">
              <input type="text" [formControl]="control" placeholder="Module Name">
            </td>
            <td class="!p-0">
              <button class="icon-button rounded-md hover:text-warn" mat-ripple matTooltip="Remove"
                (click)="table.remove($index)">
                <fa-icon [icon]="icons.faRemove"></fa-icon>
              </button>
            </td>
          </tr>
          }
          <tr>
            <td colspan="2" class="!p-0">
              <button class="stroked-button w-full border-none p-2.5" mat-ripple matTooltip="Add" (click)="table.add()">
                <fa-icon [icon]="icons.faAdd" class="mx-auto"></fa-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<mat-divider></mat-divider>

<div class="flex gap-2 p-2">
  <button type="button" class="stroked-button primary" mat-ripple [disabled]="buttons.save.disabled$()"
    (click)="buttons.save.click()">
    Save
  </button>
  <button type="button" class="stroked-button" mat-ripple (click)="buttons.reset.click()">
    Reset
  </button>
</div>