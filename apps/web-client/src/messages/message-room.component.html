<mat-sidenav-container class="h-full">
  <mat-sidenav [opened]="showInfoPanel$()" mode="side" position="end">
    <div class="demo-placeholder">
      Message Room Info Panel
    </div>
  </mat-sidenav>
  <mat-sidenav-content style="overflow: visible;">
    <mat-progress-spinner *ngIf="loadingRoom$(); else $roomLoaded"
                          mode="indeterminate" diameter="24"
                          class="mx-auto my-4">
    </mat-progress-spinner>

    <ng-template #$roomLoaded>
      <div class="h-full flex flex-col" *ngIf="room$(); else $noRoom">
        <div class="flex-grow">
          <pre>{{messages$() | json}}</pre>
        </div>
        <div class="bg-white border-t-divider p-2">
          <form class="flex gap-2">
            <div id="text-message-field" class="form-field mb-0 flex-grow">
              <div class="field field-interactive">
                <textarea #textMessageInput cdkTextareaAutosize
                          class="resize-none"></textarea>
              </div>
            </div>
            <button type="button" mat-ripple
                    class="icon-button self-end 
                    text-primary/70 hover:text-primary focus:text-primary">
              <fa-icon [icon]="icons.faPlay"></fa-icon>
            </button>
          </form>
        </div>
      </div>

      <ng-template #$noRoom>
        <div class="h-full grid place-content-center p-4">
          <fa-icon [icon]="icons.faComments"
                   class="mx-auto text-6xl text-slate-300"></fa-icon>
          <p class="mt-4 text-slate-400">Please select a conversation to view messages</p>
        </div>
      </ng-template>
    </ng-template>

  </mat-sidenav-content>
</mat-sidenav-container>