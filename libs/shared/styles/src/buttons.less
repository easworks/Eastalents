@layer components {  
  button {
    @apply outline-none;
  }

  .filled-button {
    --source-color: theme('colors.primary.600');

    @apply p-1 px-4 rounded-md font-medium transition-all w-max;

    @apply text-on-primary;
    --tw-ring-color: var(--source-color);
    background-color: var(--source-color);

    @apply ring-1 ring-opacity-10
      before:absolute after:absolute
      shadow-[0_1px_theme(colors.white/0.07)_inset,0_1px_3px_theme(colors.gray.900/0.2)];

    &::before {
      @apply transition-all inset-0 -z-10
        bg-gradient-to-b
        from-white/15 
        opacity-50;
    }

    &::after {
      @apply pointer-events-none inset-0 -z-10
        bg-gradient-to-b from-white/10
        from-[46%] to-[54%]
        mix-blend-overlay;
    }


    &:hover, &:focus {
      &::before {
        @apply opacity-100;
      }
    }

    &:disabled, &.disabled {
      @apply text-gray-400 bg-gray-200 ring-gray-200;
    }
  }

  .tonal-button {
    --source-color: theme('colors.primary.900');
    --tone: hsl(from var(--source-color) h 50 90);

    @apply p-1 px-4 rounded-md font-medium transition-all w-max;
    @apply text-primary;
    background-color: var(--tone);
    --tw-ring-color: var(--tone);

    @apply ring-1 ring-opacity-10
      before:absolute after:absolute
      shadow-[0_1px_theme(colors.white/0.07)_inset,0_1px_3px_theme(colors.gray.900/0.2)];

    &::before {
      @apply transition-all inset-0 -z-10
        bg-gradient-to-b
        from-white/40 
        opacity-50;
    }

    &::after {
      @apply pointer-events-none inset-0 -z-10
        bg-gradient-to-b from-white/10
        from-[46%] to-[54%]
        mix-blend-overlay;
    }

    &:hover, &:focus {
      &::before {
        @apply opacity-100;
      }
    }

    &:disabled, &.disabled {
      @apply text-gray-400 bg-gray-200 ring-gray-200;
    }
  }

  .outlined-button {
    --source-color: transparent;
    @apply block rounded-md py-1 px-4 transition-all;

    @apply border after:absolute;

    &::after {
      @apply transition-all pointer-events-none inset-0 -z-10
        mix-blend-overlay
        opacity-0;
      background-color: theme('colors.black / 0.075');
    }

    &:hover, &:focus {
      &::after {
        @apply opacity-100;
      }
    }

    &:disabled, &.disabled {
      @apply text-gray-400 bg-gray-200 border-gray-200;

      &::before, &::after {
        @apply hidden;
      }
    }
  }

    
  .text-button {
    --source-color: transparent;
    @apply block rounded-md py-1 px-4 transition-all;

    @apply after:absolute;

    &::after {
      @apply transition-all pointer-events-none inset-0 -z-10
        mix-blend-overlay
        opacity-0;
      background-color: theme('colors.black / 0.075');
    }

    &:hover, &:focus {
      &::after {
        @apply opacity-100;
      }
    }

    &:disabled, &.disabled {
      @apply text-gray-400 bg-gray-200;

      &::before, &::after {
        @apply hidden;
      }
    }
  }

  .icon-button {
    --source-color: transparent;
    @apply grid place-content-center rounded-full
      w-10 h-10 text-lg
      transition-all;

    @apply after:absolute;

    &::after {
      @apply transition-all pointer-events-none inset-0 -z-10
        mix-blend-overlay
        opacity-0;
      background-color: theme('colors.black / 0.075');
    }
    
    fa-icon {
      @apply leading-none;
    }
    
    &.small {
      @apply h-6 w-6 text-sm;
    }

    &.large {
      @apply h-12 w-12 text-2xl;
    }

    &:hover, &:focus {
      &::after {
        @apply opacity-100;
      }
    }

    &.primary {
      @apply bg-primary-500 text-white;

      &:where(:hover), &:where(:focus) {
        @apply bg-primary-600;
      }
    }
      
    &:disabled, &.disabled {
      @apply text-gray-400 bg-gray-200;

      &::before, &::after {
        @apply hidden;
      }
    }

  }
}