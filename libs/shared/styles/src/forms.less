@layer base {
  input {
    @apply outline-none;
  }
  
  textarea {
    @apply block w-full h-full outline-none placeholder:text-sm
      pr-1 leading-tight;

    &::-webkit-scrollbar {
      @apply absolute h-1 w-1 rounded-full;
    }

    &::-webkit-scrollbar-thumb {
      @apply rounded bg-black;
    }

    &::-webkit-scrollbar-track {
      @apply rounded bg-divider;
    }

    &::-webkit-scrollbar,
    &::-webkit-scrollbar-corner {
      @apply bg-divider;
    }
  }
}

@layer components {
  .field {
    @apply w-full rounded-md text-sm leading-none p-2
    placeholder:text-gray-500/80 placeholder:text-sm 
    ring-1 ring-divider ring-inset transition-all
    shadow shadow-black/5
    outline-none;

    &:where(:focus), &:where(:hover), &:where(:focus-within) {
      @apply ring-primary-500;
    }

    &:where(:focus), &:where(:focus-within) {
      @apply ring-2;
    }
  }

  .hint {
    @apply text-xs mt-1 px-2 text-gray-500;
  }

  .error {
    @apply text-xs mt-1 px-2 text-red-500;
  }

  .form-field {
    @apply relative mb-8;

    > label {
      @apply block mb-1 text-sm font-semibold;
    }

    > .hint {
      @apply absolute block;
    }

    > .error {
      @apply absolute hidden text-warn transition-all;
    }

    .mat-mdc-select-value {
      @apply transition-all;
    }

    .field-spinner {
      @apply absolute hidden w-6;
    }

    &.show-spinner {
      input,
      .mat-mdc-select-value {
        @apply pr-8;
      }

      .field-spinner {
        @apply block;
      }
    }

    &.disabled {
      > label {
        @apply text-gray-500;
      }
    }
  }

  form.ng-submitted .form-field,
  form.ng-dirty .form-field.dirty,
  td.form-field.dirty {
    &.invalid {
      label {
        @apply text-warn;
      }

      .field {
        @apply ring-warn/80 placeholder-warn;
      }

      > .error {
        @apply block;

        &:not(:first-of-type) {
          @apply hidden;
        }

        & ~ .hint {
          @apply hidden;
        }
      }
    }
  }

}

input[type=text],
input[type=number],
input[type=numeric],
input[type=password],
input[type=email],
input[type=time],
input[type=tel],
select {
  @apply field;
}