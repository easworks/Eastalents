@import './snackbar.less';
@import './material.overrides.less';

@layer base {
  body {
    min-width: 22.5rem;
  }
}

@layer components {
  .page {
    @apply p-4 md:px-8 container xl:max-w-screen-xl transition-all;
  }

  .demo-placeholder {
    @apply rounded bg-slate-500/50 animate-pulse p-4;
  }

  // font-awesome

  fa-icon {
    @apply block w-max h-max !leading-none;
  }

  // buttons
  button {
    @apply outline-none;
  }
  
  .icon-button {
    @apply grid place-content-center rounded-full
      text-2xl w-12 h-12
      transition-all;
      
    @apply hover:bg-slate-500/10 focus:bg-slate-500/10;

  }

  .shaded-button {
    @apply rounded py-2 px-4 transition-all;

    @apply bg-white;

    &:hover, &:focus {
      @apply bg-slate-100;
    }

    &:where(.primary) {
      @apply bg-primary text-primary-text;

      &:hover, &:focus {
        @apply bg-primary-dark text-primary-text;
      }
    }

    &:disabled {
      @apply bg-slate-300 text-slate-500;
    }
  }

  .highlight-button {
    @apply block rounded py-2 px-4 transition-all;

    @apply bg-slate-500/10;

    &:hover, &:focus {
      @apply bg-slate-500/20;
    }

    &:where(.primary) {
      @apply bg-primary/10 text-primary;

      &:hover, &:focus {
        @apply bg-primary/20 text-primary-dark;
      }
    }

    &:disabled {
      @apply text-slate-500;
    }
  }

  .stroked-button {
    @apply block border rounded py-2 px-4
    transition-all;

    &.small {
      @apply py-1;
    }

    &:hover, &:focus {
      @apply bg-slate-500/10;
    }

    &:where(.warn) {
      @apply text-warn;
    }

    &:disabled {
      @apply bg-slate-300 text-slate-500;
    }
  }

  // links
  a:where([href]) {
    @apply transition-all outline-none;
    
    &:hover, &:focus {
      @apply text-primary;
    }
  }

  .field {
    @apply block w-full rounded p-2
      bg-slate-500/10 
      placeholder:text-slate-500/80 placeholder:text-sm
      outline-none
      ring-inset ring-primary-light
      transition-all;

    &-interactive {
      @apply hover:ring-1;
    }

    &-interactive {
      @apply focus:ring-2 focus-within:ring-2;
    }
  }

  input[type=text],
  input[type=number],
  input[type=numeric],
  input[type=password],
  input[type=email],
  input[type=time],
  input[type=tel],
  select {
    @apply field;

    &:not(:disabled) {
      @apply field-interactive;
    }
  }

  textarea {
    @apply bg-transparent w-full h-full outline-none placeholder:text-sm;

    &::-webkit-scrollbar {
      @apply absolute h-1 w-1 rounded-full;
    }

    &::-webkit-scrollbar-thumb {
      @apply rounded bg-black;
    }

    &::-webkit-scrollbar-track {
      @apply rounded bg-divider;
    }

    &::-webkit-scrollbar,
    &::-webkit-scrollbar-corner {
      @apply bg-divider;
    }
  }

  // form styling
  .form-field {
    @apply relative mb-6;

    > label {
      @apply block mb-1 text-sm;
    }

    > .hint {
      @apply absolute block text-xs px-2 mt-1 text-slate-500;
    }

    > .error {
      @apply absolute hidden text-xs px-2 mt-1;
    }

    .mat-mdc-select-value {
      @apply transition-all;
    }

    .field-spinner {
      @apply absolute hidden;
    }

    &.show-spinner {
      input,
      .mat-mdc-select-value {
        @apply pr-12;
      }

      .field-spinner {
        @apply block;
      }
    }

    &.disabled {
      > label {
        @apply text-slate-500;
      }
    }
  }

  form.ng-submitted .form-field,
  form.ng-dirty .form-field.dirty {
    &.invalid {
      label {
        @apply text-warn;
      } 

      input.ng-invalid,
      file-upload.ng-invalid,
      .field {
        @apply ring-1 ring-warn/80
          focus:ring-2 focus-within:ring-2
          placeholder-warn;
      }

      > .error {
        @apply block text-warn;

        &:not(:first-of-type) {
          @apply hidden;
        }

        & ~ .hint {
          @apply hidden;
        }
      }
    }
  }
}
