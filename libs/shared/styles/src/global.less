@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
@import url('./snackbar.less');

@layer base {
  body {
    min-width: 22.5rem;
  }
}

@layer components {
  .page {
    @apply p-4 md:px-8 container xl:max-w-screen-xl transition-all;
  }

  .demo-placeholder {
    @apply rounded bg-slate-500/50 animate-pulse p-4;
  }

  // buttons
  button {
    @apply outline-none;
  }
  
  .icon-button {
    @apply grid place-content-center rounded-full
      text-2xl w-12 h-12
      transition-all;
      
      &:enabled, &[href] {
        @apply hover:bg-slate-500/10 focus:bg-slate-500/10;
      }

  }

  .shaded-button {
    @apply rounded py-2 px-4 transition-all;

    &.primary {
      @apply bg-primary text-primary-text;

      &:enabled, &[href] {
        &:hover, &:focus {
          @apply bg-primary-dark text-primary-text;
        }
      }
    }

    &:disabled {
      @apply bg-slate-300 text-slate-500;
    }
  }

  .highlight-button {
    @apply block rounded py-2 px-4 transition-all;

    &:enabled, &[href] {
      &:hover, &:focus {
        @apply bg-slate-500/10 ;
      }
    }

    &.primary {
      &:enabled, &[href] {
        &:hover, &:focus {
          @apply bg-primary/10 ;
        }
      }
    }

    &:disabled {
      @apply text-slate-500;
    }
  }

  .stroked-button {
    @apply block border rounded py-2 px-4 text-center
    transition-all;

    &:enabled, &[href] {
      &:hover, &:focus {
        @apply bg-slate-500/10 ;
      }
    }
  }

  // links
  a[href] {
    @apply transition-all outline-none;
    
    &:hover, &:focus {
      @apply text-primary;
    }
  }

  input[type=text],
  input[type=number],
  input[type=numeric],
  input[type=password],
  input[type=email],
  textarea {
    @apply block w-full rounded p-2
        bg-slate-400/10 
        placeholder:text-slate-500/80 placeholder:text-sm
        outline-none
        ring-inset focus:ring-2 focus:ring-primary-light
        transition-all;
  }

  // form styling
  .form-field {
    @apply relative mb-6;

    > label {
      @apply block mb-1 text-sm;
    }

    > .hint {
      @apply absolute block text-xs px-2 mt-1 text-gray-500;
    }

    > .error {
      @apply absolute hidden text-xs px-2 mt-1;
    }
  }

  form.ng-submitted .form-field {
  // might need to investigate the correct time to enable this line
  // .form-field.dirty {
    &.invalid {
      label {
        @apply text-warn;
      }  

      input, textarea {
        &.ng-invalid {
          @apply ring-1 ring-warn/80 focus:ring-2;
        }
      }

      > .error {
        @apply block text-warn;

        &:not(:first-of-type) {
          @apply hidden;
        }

        & ~ .hint {
          @apply hidden;
        }
      }
    }
  }
}