<nav class="flex items-center">
  <ul class="flex gap-2 items-center">
    <ng-container *ngFor="let item of menuItems$()">
      <ng-container *ngIf="!item.children?.length; else hasChildren">
        <li>
          <a class="p-2 rounded hover:bg-slate-500/10 focus:bg-slate-500/10"
             [href]="item.link">
            {{item.name}}
          </a>
        </li>
      </ng-container>

      <ng-template #hasChildren>
        <li class="has-submenu relative group"
            (mouseenter)="unfocus()">
          <a class="p-2 rounded flex gap-2 items-center
              group-hover:bg-slate-500/10 group-focus-within:bg-slate-500/10"
             [href]="item.link">
            <span>{{item.name}}</span>
            <i class="fa-solid fa-angle-down"></i>
          </a>
          <ul class="hidden group-hover:grid group-focus-within:grid"
              [class.large]="item.children!.length > 4">
            <li *ngFor="let subItem of item.children">
              <a [href]="subItem.link">
                <span *ngIf="subItem.icon" class="icon">
                  <i class="fa-solid {{subItem.icon}}"></i>
                </span>
                <span>{{subItem.name}}</span>
              </a>
            </li>
          </ul>
        </li>

      </ng-template>
    </ng-container>

  </ul>
</nav>